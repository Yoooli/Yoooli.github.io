<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title>Geog 771</title>
   
    <script src="https://api.mapbox.com/mapbox-gl-js/v0.18.0/mapbox-gl.js"></script>
  
  <link href="https://api.mapbox.com/mapbox-gl-js/v0.18.0/mapbox-gl.css" rel="stylesheet">

<style> .mapboxgl-popup {max-width:400px; font:12px/20px Helvetica, Arial, Sans-Serif;} </style>

</head>
<body>

  <style>
  .mapboxgl-popup {max-width:400px; font:12px/20px Helvetica, Arial, Sans-Serif;}

   link="#FFFFFF" vlink="#FFFFFF"

   
    </style>

    <table style="text-align: left; width: 100%;" border="0" cellpaddint="2" cellspacing="0">

    <tbody>
    <tr>
    <td style="width:10%; text-align: center; vertical-align: top; background-color: #2E9AFE;"

    <p> <a href="index.html"><span style="text-decoration:underline;">Home</span></a></p>
    <p> <a href="Lab_2.html"><span style="text-decoration:underline;">Lab 2</span></a></p>
    <p> <a href="Lab_3.html"><span style="text-decoration:underline;">Lab 3</span></a></p>
    <p> <a href="Lab_4.html"><span style="text-decoration:underline;">Lab 4</span></a></p>
    <p> <a href="Lab_5.html"><span style="text-decoration:underline;">Lab 5</span></a></p>
    <p> <a href="Project.html"><span style="text-decoration:underline;">Lab 6</span></a></p>

    </td>

    <td style= "text-align:center; vertical-align:middle; background-color:rgb(204,204,255); font-family: Helvetica, Arial, Sans-serif;"

    <h1> <big><big> Geography 771 </big></big>
<br><br><br>
Spatial Analysis and Geocomputation
<br><br>
Yuli Heled
<br> <br>
2016 </h1> <br>

</td> </tr>
<tr>

<td style="text-align: center; backgound-color: #CEE3F6; font-family:Helvetica, Arial, Sans-serif;" colspan="2" 

<br>
Below are two maps showing New Zealand's 'Great Walk' Tracks. These 9 walks spread accross the country which showcase New Zealand's most spectacular scenery. 



    </td></tr></tbody></table>

 <table align="left" style="width:100%;">
 <tbody>
 <tr>
 <td style="width:50%;">



<div align="left"  id='map2' style='width:700px; height:700px;'></div>
<script>
mapboxgl.accessToken='pk.eyJ1IjoieW9vb2xpIiwiYSI6ImNpcndydG41azAwMHYybm53cTZncmo5M2kifQ.X_K0DmQpM0_XVPbdI2uarw';
var map2 =new mapboxgl.Map({     
container:'map2',
style:'mapbox://styles/yoooli/cirwsurki0043g4np3np10agh',
center:[174,-41],
zoom: 4
});
</script>

</td>
<td style="width:50%;">


<div align="left" 

id='map' style='width:700px; height:700px;'></div>
<script>
mapboxgl.accessToken = 'pk.eyJ1IjoieW9vb2xpIiwiYSI6ImNpcndydG41azAwMHYybm53cTZncmo5M2kifQ.X_K0DmQpM0_XVPbdI2uarw';
var map = new mapboxgl.Map({
    container: 'map',
    style: "mapbox://styles/yoooli/cisz6f2il00012xls53snzsgg",
    zoom: 4.5,
    center: [174,-41]
});

map.on('load', function () {
    map.addSource('greatwalks-8mla8c', {
        type: 'vector',
        url: 'mapbox://yoooli.3e2yjclt'
    });
        map.addLayer({
        "id": "greatwalks-8mla8c", 
        "type": "line",
        "source": "greatwalks-8mla8c",
        "source-layer": "greatwalks-8mla8c",
        "layout": {
            "line-join": "round",
            "line-cap": "round"
        },
        "paint": {
            "line-color": "#800000",
            "line-width": 7
        }
    });
map.setLayerZoomRange("greatwalks-8mla8c", 8, 22);
    
map.addSource("markers", {
        "type": "geojson",
        "data": {
  "type": "FeatureCollection",
  "features": [
   //mapbox://styles/yoooli/ciszdhf5m000g2yoaunz5irxn
    
    {
      "type": "Feature",
      "properties": {
        
        "description": "Hellooooo",
        "marker-symbol": "campsite-15",
        "Title": "Rakiura Track"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          168.05820465087888,
          -46.86253853984663
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        
        "marker-symbol": "campsite-15",
        "Title": "Kepler Track"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          167.6348876953125,
          -45.394592696926615
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#ff0000",
        "marker-size": "medium",
        "marker-symbol": "campsite-15",
        "Title": "Milford Track"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          167.7777099609375,
          -44.80717308106487
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
       
        "marker-symbol": "campsite-15",
        "Title": "Routeburn Track"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          168.167724609375,
          -44.74673324024679
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#ff0000",
        "marker-size": "medium",
        "marker-symbol": "campsite-15",
        "Title": "Heaphy Track"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          172.15026855468747,
          -40.93841495689794
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
       
        "marker-symbol": "campsite-15",
        "Title": "Abel Tasman Coast Track"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          173.04016113281247,
          -40.863679665481676
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "campsite-15",
        "Title": "Whanganui River"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          175.111083984375,
          -39.588757276965445
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "campsite-15",
        "Title": "Round the Mountain Track"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          175.572509765625,
          -39.33429742980723
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "campsite-15",
        "Title": "Lake Whakaremoana Great Walk"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          177.00073242187497,
          -38.805470223177444
        ]
      }
    }
  ]
}

});

    map.addLayer({
        "id": "markers",
        "type": "symbol",
        "source": "markers",
        "layout": {
            "icon-image": "{marker-symbol}",
            "text-field": "{Title}",
            "text-font": ["Open Sans Semibold", "Arial Unicode MS Bold"],
            "text-offset": [0, 0.6],
            "text-anchor": "top"

        }
    });



    map.on('click', function (e) {
var features = map.queryRenderedFeatures(e.point, { layers: ['markers'] });
if (features.length) {
map.flyTo({center: features[0].geometry.coordinates, zoom: 9});
}
});

map.setLayerZoomRange("greatwalks-8mla8c", 8, 22);
map.setLayerZoomRange("markers", 0, 8);

     });







    //  var popup = new mapbox.gl.Popup({
     // closeButton:false,
   //   closeOnClick:false
// });
    

  map.on('mousemove', function (e) {
var features = map.queryRenderedFeatures(e.point, { layers: ['markers'] });
map.getCanvas().style.cursor = features.length ? 'pointer' : ''; 

//if (!features.length) {popup.remove(); return;
//}

//var feature = features [0];

//popup.setLngLat(feature.geometry.coordinates)
//.setHTML (feature.properties.description)
//.addTo(map);



});

</script>

</td></tr></tbody></table>




</body>
</html>











   