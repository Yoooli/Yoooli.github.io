<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title>map2</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=yes' /> 
    <script src="https://api.mapbox.com/mapbox-gl-js/v0.18.0/mapbox-gl.js"></script>
  
  <link href="https://api.mapbox.com/mapbox-gl-js/v0.18.0/mapbox-gl.css" rel="stylesheet">
    <style>
        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; }
    </style>
</head>
<body>

<div id='map'></div>
<script>
mapboxgl.accessToken = 'pk.eyJ1IjoieW9vb2xpIiwiYSI6ImNpcndydG41azAwMHYybm53cTZncmo5M2kifQ.X_K0DmQpM0_XVPbdI2uarw';
var map = new mapboxgl.Map({
    container: 'map',
    style: "mapbox://styles/yoooli/cisz6f2il00012xls53snzsgg",
    zoom: 4.5,
    center: [174,-41]
});

map.on('load', function () {
    map.addSource('greatwalks-8mla8c', {
        type: 'vector',
        url: 'mapbox://yoooli.3e2yjclt'
    });
    
 map.addSource("markers", {
        "type": "geojson",
        "data": {
  "type": "FeatureCollection",
  "features": [
   //mapbox://styles/yoooli/ciszdhf5m000g2yoaunz5irxn
    
    {
      "type": "Feature",
      "properties": {
        
        
        "marker-symbol": "campsite-15",
        "Title": "Rakiura Track"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          168.05820465087888,
          -46.86253853984663
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        
        "marker-symbol": "campsite-15",
        "Title": "Kepler Track"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          167.6348876953125,
          -45.394592696926615
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#ff0000",
        "marker-size": "medium",
        "marker-symbol": "campsite-15",
        "Title": "Milford Track"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          167.7777099609375,
          -44.80717308106487
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
       
        "marker-symbol": "campsite-15",
        "Title": "Routeburn Track"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          168.167724609375,
          -44.74673324024679
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-color": "#ff0000",
        "marker-size": "medium",
        "marker-symbol": "campsite-15",
        "Title": "Heaphy Track"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          172.15026855468747,
          -40.93841495689794
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
       
        "marker-symbol": "campsite-15",
        "Title": "Abel Tasman Coast Track"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          173.04016113281247,
          -40.863679665481676
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "campsite-15",
        "Title": "Whanganui River"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          175.111083984375,
          -39.588757276965445
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "campsite-15",
        "Title": "Round the Mountain Track"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          175.572509765625,
          -39.33429742980723
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "marker-symbol": "campsite-15",
        "Title": "Lake Whakaremoana Great Walk"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          177.00073242187497,
          -38.805470223177444
        ]
      }
    }
  ]
}

});

    map.addLayer({
        "id": "markers",
        "type": "symbol",
        "source": "markers",
        "layout": {
            "icon-image": "{marker-symbol}",
            "text-field": "{Title}",
            "text-font": ["Open Sans Semibold", "Arial Unicode MS Bold"],
            "text-offset": [0, 0.6],
            "text-anchor": "top"

        }
    });

    map.addLayer({
        "id": "greatwalks-8mla8c", 
        "type": "line",
        "source": "greatwalks-8mla8c",
        "source-layer": "greatwalks-8mla8c",
        "layout": {
            "line-join": "round",
            "line-cap": "round"
        },
        "paint": {
            "line-color": "#800000",
            "line-width": 7
        }
    });

    map.on('click', function (e) {
var features = map.queryRenderedFeatures(e.point, { layers: ['markers'] });
if (features.length) {
map.flyTo({center: features[0].geometry.coordinates, zoom: 9});
}
});

map.on('mousemove', function (e) {
var features = map.queryRenderedFeatures(e.point, { layers: ['markers'] });
map.getCanvas().style.cursor = features.length ? 'pointer' : ''; 

});

  map.setLayerZoomRange ('greatwalks-8mla8c', 6, 22);
     map.setLayerZoomRange('markers', 0, 8);


});





</script>

</body>
</html>




</script>


</body>
</html>











   